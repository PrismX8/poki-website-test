try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8538c35f-d7cd-402b-8ac0-de791a6ca326",e._sentryDebugIdIdentifier="sentry-dbid-8538c35f-d7cd-402b-8ac0-de791a6ca326")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"efc8789d5551f63a92cf663996a55ad2b9c0b26b"};(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[946],{6788:(e,t,n)=>{n.d(t,{Ay:()=>_,X$:()=>l,fy:()=>w,p3:()=>p,x0:()=>d});var o=n(20038),a=n(98708),i=n(5298),s=n(48554),r=n(88800);const c=(0,o.Z0)({name:"bugReport",initialState:{isReporting:!1,reportData:null},reducers:{openReportBug:e=>{e.isReporting=!0},closeReportBug:e=>{e.isReporting=!1},setBugReportData:(e,t)=>{e.reportData=t.payload.message}}}),d=e=>e.bugReport.isReporting,p=e=>e.bugReport.reportData,l=(0,o.VP)("bugReport/sendReportBug"),{openReportBug:u,closeReportBug:f,setBugReportData:g}=c.actions,w=()=>async(e,t)=>{const n=t(),o=(0,a.K)(n),c=(0,i.Vv)(n);if(!c)return;e(u());const d=Date.now(),p=`feedback-input-${d}`,w=`feedback-checkbox-${d}`,_=o.what_bug.replace("%title",`<strong>${c.title}?</strong>`),m={id:d,title:_,titleIcon:{svgName:"report",width:24,height:24},childComponent:{name:"ReportBugNotification",props:{feedbackInputId:p,feedbackCheckboxId:w}},clickOutsideToClose:!0,onClose:()=>{e(f())},actions:[{title:o.send,onClick:()=>{const t=document.getElementById(p)?.value;e(g({message:t})),document.getElementById(w)?.checked?e((0,s.kK)({callback:"bugReport"})):e(l()),e((0,r.oe)({id:d}));const n={notification:{title:o.thank_you,theme:"feedback",autoExpire:4e3}};e((0,r.Gg)(n))}}]};e((0,r.Gg)({notification:m}))},_=c},10179:(e,t,n)=>{n.d(t,{A6:()=>f,jE:()=>g,nR:()=>l,sx:()=>d,xE:()=>u});var o=n(20038),a=n(42891),i=n(52694),s=n(46278),r=n(16536),c=n(46493);const d=(0,o.zD)("account/createSession",(async()=>{const e=await(0,i.Hq)(),t=await e.toSession();if(200===t.status)return t.data;if(401===t.status)return null;throw new Error("account/CreateSession error")}));function p(e,t){return t&&e.searchParams.set("accountSource",t),e.toString()}const l=async({flow:e,source:t})=>{const n=await(0,i.Hq)();if(e)return n.getLoginFlow({id:String(e)});const o=new URL(window.location.href);o.searchParams.set("login","success");const a=p(o,t);return n.createBrowserLoginFlow({refresh:!0,aal:"aal1",returnTo:a})},u=async({source:e})=>{const t=await(0,i.Hq)(),n=new URL(window.location.href);n.searchParams.set("register","success");const o=p(n,e);return t.createBrowserRegistrationFlow({returnTo:o})},f=(0,o.zD)("account/logout",(async()=>{const{data:e}=await(0,i.ZW)();try{await(0,i.YE)(e.logout_token),window.location.reload()}catch(e){}})),g=(0,o.zD)("account/postRegistration",(async(e,t)=>{const n=t.getState(),o=`${(0,s.T5)()}/players/profile/post-registration-sync`,i=(0,a.Fe)(n),r={game_history:i.length>0?i.slice(0,10).map((e=>({game_id:e.id,playtime:60*e.pt,last_played_at:new Date(e.lp).toISOString()}))):[]};if(!(await fetch(o,{method:"POST",credentials:"include",headers:{"X-Poki-Api-Version":"2"},body:JSON.stringify(r)})).ok)throw new Error("Cannot perform post-registration")}));(0,r.Zv)({matcher:(0,o.i0)(d.fulfilled,d.rejected),effect:e=>{const t=e.payload;void 0!==t?.id?(0,c.F)({category:"account",action:"isLoggedIn",label:"true",data:{provider:t?.authentication_method||"unknown",accountId:t?.identity?.id||"unknown"}}):(0,c.F)({category:"account",action:"isLoggedIn",label:"false"})}})},48561:(e,t,n)=>{var o=n(42891),a=n(16536),i=n(55509),s=n(11865);const r=new Set;(0,a.Zv)({predicate:e=>!!i.D[e.type],effect:e=>{const t=i.D[e.type];if(t){const{state:e,property:n}=t;r.add(`${e}/${n}`)}}}),(0,a.Zv)({type:o.SG.type,effect:(e,t)=>{t.unsubscribe(),document.addEventListener("visibilitychange",(()=>{if("hidden"===document.visibilityState&&r.size>0){const e=t.getState();r.forEach((t=>{const[n,o]=t.split("/");if(e[n]){const a=e[n][o];(0,s.SO)(`state/${t}`,JSON.stringify(a))}})),r.clear()}}))}})},52600:(e,t,n)=>{var o=n(20038),a=n(5298),i=n(42891),s=n(98708),r=n(36774),c=n(46493),d=n(98535),p=n(66685),l=n(16536);const u="poki-qc-cmp2-footer-links";const f=(0,o.zD)("cmp/loadCMP",(async(e,t)=>{const o=t.getState(),{dispatch:l}=t,f=(0,i.oJ)(o),g=(0,i.qk)(o),w=(0,i.wu)(o);if(!g&&!f)return;if((0,d.A)(w))return;const _=document.createElement("script"),m=document.getElementsByTagName("script")[0];var y=0;_.async=!0,_.type="text/javascript",_.src=f?"https://cmp.inmobi.com/choice/E_PXTAq4C0D1u/poki.com/choice.js?tag_version=V3":"https://cmp.inmobi.com/choice/ZjkDq8H1qkQmt/poki.com/choice.js?tag_version=V3",m.parentNode.insertBefore(_,m),function(){for(var e,t="__tcfapiLocator",n=[],o=window;o;){try{if(o.frames[t]){e=o;break}}catch(e){}if(o===window.top)break;o=o.parent}e||(!function e(){var n=o.document,a=!!o.frames[t];if(!a)if(n.body){var i=n.createElement("iframe");i.style.cssText="display:none",i.name=t,n.body.appendChild(i)}else setTimeout(e,5);return!a}(),o.__tcfapi=function(){var e,t=arguments;if(!t.length)return n;if("setGdprApplies"===t[0])t.length>3&&2===t[2]&&"boolean"==typeof t[3]&&(e=t[3],"function"==typeof t[2]&&t[2]("set",!0));else if("ping"===t[0]){var o={gdprApplies:e,cmpLoaded:!1,cmpStatus:"stub"};"function"==typeof t[2]&&t[2](o)}else"init"===t[0]&&"object"==typeof t[3]&&(t[3]=Object.assign(t[3],{tag_version:"V3"})),n.push(t)},o.addEventListener("message",(function(e){var t="string"==typeof e.data,n={};try{n=t?JSON.parse(e.data):e.data}catch(e){}var o=n.__tcfapiCall;o&&window.__tcfapi(o.command,o.version,(function(n,a){var i={__tcfapiReturn:{returnValue:n,success:a,callId:o.callId}};t&&(i=JSON.stringify(i)),e&&e.source&&e.source.postMessage&&e.source.postMessage(i,"*")}),o.parameter)}),!1))}(),function(){const e=["2:tcfeuv2","6:uspv1","7:usnatv1","8:usca","9:usvav1","10:uscov1","11:usutv1","12:usctv1"];window.__gpp_addFrame=function(e){if(!window.frames[e])if(document.body){var t=document.createElement("iframe");t.style.cssText="display:none",t.name=e,document.body.appendChild(t)}else window.setTimeout(window.__gpp_addFrame,10,e)},window.__gpp_stub=function(){var t=window.__gpp||{},n=arguments;if(t.queue=t.queue||[],t.events=t.events||[],!n.length||1==n.length&&"queue"==n[0])return t.queue;if(1==n.length&&"events"==n[0])return t.events;var o=n[0],a=n.length>1?n[1]:null,i=n.length>2?n[2]:null;if("ping"===o)a({gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:e,cmpId:10,sectionList:[],applicableSections:[-1],gppString:"",parsedSections:{}},!0);else if("addEventListener"===o){"lastId"in t||(t.lastId=0),t.lastId++;var s=t.lastId;t.events.push({id:s,callback:a,parameter:i}),a({eventName:"listenerRegistered",listenerId:s,data:!0,pingData:{gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:e,cmpId:10,sectionList:[],applicableSections:[-1],gppString:"",parsedSections:{}}},!0)}else if("removeEventListener"===o){for(var r=!1,c=0;c<t.events.length;c++)if(t.events[c].id==i){t.events.splice(c,1),r=!0;break}a({eventName:"listenerRemoved",listenerId:i,data:r,pingData:{gppVersion:"1.1",cmpStatus:"stub",cmpDisplayStatus:"hidden",signalStatus:"not ready",supportedAPIs:e,cmpId:10,sectionList:[],applicableSections:[-1],gppString:"",parsedSections:{}}},!0)}else"hasSection"===o?a(!1,!0):"getSection"===o||"getField"===o?a(null,!0):t.queue.push([].slice.apply(n))},window.__gpp_msghandler=function(e){var t="string"==typeof e.data;try{var n=t?JSON.parse(e.data):e.data}catch(e){n=null}if("object"==typeof n&&null!==n&&"__gppCall"in n){var o=n.__gppCall;window.__gpp(o.command,(function(n,a){var i={__gppReturn:{returnValue:n,success:a,callId:o.callId}};e.source.postMessage(t?JSON.stringify(i):i,"*")}),"parameter"in o?o.parameter:null,"version"in o?o.version:"1.1")}},"__gpp"in window&&"function"==typeof window.__gpp||(window.__gpp=window.__gpp_stub,window.addEventListener("message",window.__gpp_msghandler,!1),window.__gpp_addFrame("__gppLocator"))}();var v=function(){var e=arguments;typeof window.__uspapi!==v&&setTimeout((function(){void 0!==window.__uspapi&&window.__uspapi.apply(window.__uspapi,e)}),500)};if(void 0===window.__uspapi){window.__uspapi=v;var h=setInterval((function(){y++,window.__uspapi===v&&y<3?console.warn("USP is not accessible"):clearInterval(h)}),6e3)}if(window.__tcfapi("addEventListener",2,(e=>{(0,c.F)({category:"consent",action:e.eventStatus})})),!f){let e=!1;window.__tcfapi("addEventListener",2,((t,n)=>{if(n)if("tcloaded"===t.eventStatus)e=!0;else if("useractioncomplete"===t.eventStatus&&e){let e=!1;t?.purpose?.consents?.[1]&&(e=!0);try{window.localStorage.setItem("localStorageConsentSet",`${e}`)}catch{}window.localStorageConsentSet=e,console.info("Reloading page after user interaction to apply consent changes"),window.location.reload()}}))}window.__tcfapi("addEventListener",2,((e,o)=>{if(f&&"function"==typeof window.__uspapi&&window.__uspapi("getUSPData",1,((e,t)=>{if(t){const{uspString:t}=e;l((0,i.Y1)({usPrivacyString:t}))}})),o&&"cmpuishown"===e.eventStatus){const e=t.getState(),o=(0,a.tM)(e),i=(0,a.ZI)(e),r=(0,a.$B)(e),c=(0,s.K)(e),d=(0,a.hj)(e),l=(0,a.FR)(e);n.e(9723).then(n.bind(n,59723)).then((e=>{if("undefined"==typeof document||!e?.default)return;const t=document.createElement("style");t.innerHTML=e.default.toString(),document.head.appendChild(t)})),function({privacyUrl:e,cookieStatementUrl:t,termsOfUseUrl:n,localisations:o,showNewPrivacyCenter:a,privacyCenterUrl:i}){const s=[{label:o.privacy_statement,url:e},{label:o.cookie_statement,url:t},{label:o.nav_terms_of_use,url:n}];a&&(s.length=0,s.push({label:"Privacy Center",url:i}));const r=s.map((e=>{const t=document.createElement("a");return t.setAttribute("href",e.url),t.setAttribute("target","_blank"),t.setAttribute("rel","noopener noreferrer"),t.innerText=e.label,t})),c=`\n\t\t<div class="${u}" id="${u}">\n\t\t\t${r.map((e=>e.outerHTML)).join(" &#x2022; ")}\n\t\t</div>\n\t`;(0,p.A)("#qc-cmp2-ui").then((e=>{document.getElementById(u)||e.insertAdjacentHTML("beforeend",c)}))}({privacyUrl:o,cookieStatementUrl:i,termsOfUseUrl:r,localisations:c,showNewPrivacyCenter:d,privacyCenterUrl:l})}if(o&&("tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus)){e?.purpose?.consents?.[1]?(window.localStorageConsentSet=!0,(0,c.F)({category:"consent",action:"full"}),l((0,i.F8)({consentStatus:r.T2}))):(window.localStorageConsentSet=!1,(0,c.F)({category:"consent",action:"no"}),l((0,i.F8)({consentStatus:r.d})));try{window.localStorage.setItem("localStorageConsentSet",`${window.localStorageConsentSet}`)}catch{}window.__tcfapi("getNonIABVendorConsents",2,((e,t)=>{if(!t||!e)return;const{nonIabVendorConsents:n}=e;n&&(0,c.F)({category:"consent",action:"noniab",data:{nonIABConsents:n}})}))}})),window.tracker?.installTCFHandler?.()}));(0,l.Zv)({actionCreator:a.yc,effect:async(e,{dispatch:t,getState:n,unsubscribe:o})=>{if("undefined"==typeof window)return void o();const i=n();"content"!==(0,a.K5)(i)&&t(f()),o()}})}}]);
//# sourceMappingURL=client~main-096186f5~97964ad2a2688a67d192.js.map